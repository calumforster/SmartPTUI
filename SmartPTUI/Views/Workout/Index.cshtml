@using SmartPTUI.Data.DomainModels
@model WorkoutPlan

<h1>@Model.WorkoutQuestion.WorkoutName</h1>

<h2>Workout Weeks:</h2>
@for (int i = 0; i < Model.WorkoutWeek.Count; i++)
{
    if (i == 0)
    {
        <p> @Html.ActionLink("Week " + (i + 1), "WorkoutWeek", "Workout", new { id = Model.WorkoutWeek[i].WorkoutWeekId })</p>
    }
    else
    {
        if(Model.WorkoutWeek[i-1].isCompletedWorkoutWeek)
        { 
        <p> @Html.ActionLink("Week " + (i + 1), "WorkoutWeek", "Workout", new { id = Model.WorkoutWeek[i].WorkoutWeekId })</p>
        }

    }

}

<form asp-controller="Workout" asp-action="SubmitWorkoutPlan">

    @Html.HiddenFor(x => x.WorkoutPlanId)
    @Html.HiddenFor(x => x.isCompletedWorkoutPlan)


    @if (!Model.isCompletedWorkoutPlan)
    {
        <button type="submit" class="btn btn-primary">Submit</button>
    }

</form>

<button type="submit" class="btn btn-secondary">
    @Html.ActionLink("Back", "Index", "Workout", new { workoutId = Model.WorkoutPlanId })
</button>


@if (Model.isCompletedWorkoutPlan)
{
    <h3> Workout Plan Complete</h3>
}
else
{
    <h3>Workout Plan Incomplete</h3>
}